<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–î–ª—è —Ç–µ–±—è, –º–æ–π ‚ù§Ô∏è</title>
  <style>
    :root {
      --bg-light: linear-gradient(135deg, #ffafbd, #ffc3a0);
      --bg-dark: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      --card-light: rgba(255, 255, 255, 0.92);
      --card-dark: rgba(25, 25, 45, 0.88);
      --text-light: #222;
      --text-dark: #f5f5f5;
      --accent: #ff416c;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      min-height: 100vh;
      transition: background 1.2s ease, color 0.6s ease;
      overflow-x: hidden;
      position: relative;
    }

    body.light { background: var(--bg-light); color: var(--text-light); }
    body.dark { background: var(--bg-dark); color: var(--text-dark); }

    #stars {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -2;
    }

    .container {
      max-width: 850px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      text-align: center;
      padding: 40px 0 25px;
      position: relative;
    }

    h1 {
      font-size: 3em;
      margin-bottom: 10px;
      background: linear-gradient(90deg, #ff416c, #ff4b2b, #e91e63);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 5px rgba(233, 30, 99, 0.3); }
      to { text-shadow: 0 0 20px rgba(255, 65, 108, 0.7); }
    }

    .subtitle {
      font-size: 1.3em;
      opacity: 0.95;
      margin-bottom: 25px;
    }

    .card {
      background: var(--card-light);
      border-radius: 22px;
      padding: 28px;
      margin: 28px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.18);
      backdrop-filter: blur(12px);
      transition: transform 0.35s, box-shadow 0.35s;
    }

    body.dark .card {
      background: var(--card-dark);
    }

    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 35px rgba(0,0,0,0.25);
    }

    .card h2 {
      color: var(--accent);
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      font-size: 1.6em;
    }

    .progress-container {
      background: rgba(0,0,0,0.08);
      border-radius: 10px;
      height: 20px;
      margin: 20px 0;
      overflow: hidden;
    }
    body.dark .progress-container {
      background: rgba(255,255,255,0.1);
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #ff416c, #ff4b2b);
      width: 0%;
      transition: width 2s ease;
    }

    .map-placeholder {
      background: rgba(0,0,0,0.05);
      height: 200px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-style: italic;
      color: #666;
    }
    body.dark .map-placeholder {
      background: rgba(255,255,255,0.07);
      color: #aaa;
    }

    .bug-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    .bug-table th, .bug-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    body.dark .bug-table th,
    body.dark .bug-table td {
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .btn {
      padding: 11px 22px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1em;
      margin: 8px 4px;
      transition: all 0.3s;
    }
    .btn-primary {
      background: var(--accent);
      color: white;
    }
    .btn-primary:hover {
      background: #d01c5c;
      transform: scale(1.05);
    }
    .btn-outline {
      background: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
    }

    .video-placeholder {
      background: #000;
      height: 200px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      cursor: pointer;
    }

    footer {
      text-align: center;
      padding: 35px 0 20px;
      font-size: 0.95em;
      opacity: 0.85;
    }

    @media (max-width: 600px) {
      h1 { font-size: 2.3em; }
      .card { padding: 22px; }
    }
  </style>
</head>

<body class="dark">
  <!-- üîä –ê—É–¥–∏–æ ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –î–û —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
  <audio id="love-music" preload="metadata">
    <source src="https://www.dropbox.com/scl/fi/5coq0wfm96wha96sxms39/Svyat_-_Ne_Otpuskajj_78227046-1.mp3?rlkey=ar03rkzymsvgpb29ws6rs871p&st=jhq31oz2&dl=1" type="audio/mpeg">
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
  </audio>

  <div id="stars"></div>
  <div class="container">
    <header>
      <h1>–î–ª—è —Ç–µ–±—è, –º–æ–π —Å–∞–º—ã–π —Ä–æ–¥–Ω–æ–π ‚ù§Ô∏è</h1>
      <p class="subtitle">–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è ‚Äî –º–æ–π —Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π –ø—Ä–æ–µ–∫—Ç</p>
    </header>

    <div class="card">
      <h2>üåå –ù–∞—à–∞ –ª—é–±–æ–≤—å: –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
      <p>–û—Ç –ø–µ—Ä–≤–æ–≥–æ "–ø—Ä–∏–≤–µ—Ç" –¥–æ —Å–µ–≥–æ–¥–Ω—è ‚Äî <strong id="love-days">...</strong> –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ.</p>
      <div class="progress-container">
        <div class="progress-bar" id="love-progress"></div>
      </div>
      <p>–ú—ã –ø—Ä–æ—à–ª–∏ —É–∂–µ <span id="love-percent">0</span>% –ø—É—Ç–∏ –∫ –≤–µ—á–Ω–æ—Å—Ç–∏.</p>
    </div>

    <div class="card">
      <h2>üìÖ –ù–∞—à–∞ –ø–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞</h2>
      <p><strong>16 –∏—é–ª—è 2025</strong><br> -–ú—ã –∑–Ω–∞–∫–æ–º—ã? <br>
                            -–ü–æ—à–ª–∏, –∫–∞–¥—Ä–∏—Ç—å —Ç–µ–±—è –±—É–¥—É.</p>
    </div>

    <div class="card">
      <h2>üó∫Ô∏è –ù–∞—à–∏ –º–µ—Å—Ç–∞</h2>
      <div class="map-placeholder">
         –ì–æ—Å—Ç–∏–Ω–∏—Ü–∞ "–ü—Ä–∏–º–æ—Ä–∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å"  ‚Äî –Ω–∞—à –≤–∞–π–±–æ–≤—ã–π –≤–µ—á–µ—Ä. –†–æ–ª–ª—ã –∏ —Å–µ—Ä–∏–∞–ª<br>
         –ê—ç—Ä–æ–ø–æ—Ä—Ç –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫ ‚Äî –î–æ–ª–≥–æ–∂–¥–∞–Ω–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–ª—É–∫–∏<br>
         –û—Ä–ª–∏–Ω–Ω–æ–µ –≥–Ω–µ–∑–¥–æ ‚Äî –Ω–æ—á–µ–≤–∫–∞ –≤ –º–∞—à–∏–Ω–µ –∏–º–µ–µ—Ç —Å–≤–æ–π –≤–∞–π–±
      </div>
      <p style="margin-top:15px; font-size:0.95em; opacity:0.9;">
        (–ö–∞—Ä—Ç–∞ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ ‚Äî –≤ –±—É–¥—É—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏! –ê –ø–æ–∫–∞ ‚Äî –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è ‚ù§Ô∏è)
      </p>
    </div>

    <div class="card">
      <h2>üêû –õ—é–±–æ–≤–Ω—ã–π –±–∞–≥-—Ç—Ä–µ–∫–µ—Ä</h2>
      <table class="bug-table">
        <tr><th>–ë–∞–≥</th><th>–°—Ç–∞—Ç—É—Å</th></tr>
        <tr><td>–°–ª–∏—à–∫–æ–º –º–∏–ª ‚Üí –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è</td><td>‚úÖ FIXED (–æ–±–Ω–∏–º–∞—à–∫–∞–º–∏)</td></tr>
        <tr><td>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç</td><td>üî• CRITICAL</td></tr>
        <tr><td>–°–º–æ—Ç—Ä–∏—Ç –Ω–∞ –º–µ–Ω—è –∏ —É–ª—ã–±–∞–µ—Ç—Å—è</td><td>‚ú® FEATURE, NOT A BUG</td></tr>
        <tr><td>–ì–æ–≤–æ—Ä–∏—Ç "—è –ø–æ —Ç–µ–±–µ —Å–∫—É—á–∞—é"</td><td>üíñ REPRODUCIBLE (—á–∞—Å—Ç–æ)</td></tr>
      </table>
    </div>

    <div class="card">
        <h2>üé• –°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
        <div id="video-container" style="text-align: center;">
          <button class="btn btn-primary" onclick="showVideo()">‚ñ∂Ô∏è –ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –º–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
          <div id="video-player" style="display: none; margin-top: 15px; border-radius: 12px; overflow: hidden; background: #000;"></div>
        </div>
      </div>

    <div class="card">
      <h2>üéµ –§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞</h2>
      <button class="btn btn-primary" onclick="toggleMusic()">‚ñ∂Ô∏è –í–∫–ª—é—á–∏—Ç—å –Ω–∞—à—É –ø–µ—Å–Ω—é</button>
      <button class="btn btn-outline" onclick="createConfetti()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏</button>
    </div>

    <div class="card">
      <h2>üíå –û—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥ –≤ –∏—Å—Ç–æ—Ä–∏–∏</h2>
      <textarea id="memory-input" placeholder="–î–æ–±–∞–≤—å —Å–≤–æ—ë –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å—é–¥–∞..." style="width:100%; padding:12px; border-radius:12px; min-height:100px; margin:15px 0; font-family:inherit;"></textarea>
      <button class="btn btn-primary" onclick="saveMemory()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω–∞—à—É –∫–∞–ø—Å—É–ª—É</button>
      <div id="memories-list" style="margin-top:20px; text-align:left;"></div>
    </div>

    <div class="card">
      <h2>üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF</h2>
      <p>–•–æ—á–µ—à—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ –Ω–∞–≤—Å–µ–≥–¥–∞?</p>
      <button class="btn btn-primary" onclick="exportToPDF()">–°–∫–∞—á–∞—Ç—å –∫–∞–∫ PDF</button>
    </div>

    <footer>
      –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é | 25 –æ–∫—Ç—è–±—Ä—è 2025<br>
      <em>¬´–¢—ã ‚Äî –º–æ–π –ª—é–±–∏–º—ã–π –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è¬ª</em>
    </footer>
  </div>

  <!-- –ó–≤—ë–∑–¥—ã -->
  <script>
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 150; i++) {
      const star = document.createElement('div');
      star.style.position = 'absolute';
      star.style.width = Math.random() * 3 + 'px';
      star.style.height = star.style.width;
      star.style.backgroundColor = 'white';
      star.style.borderRadius = '50%';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      star.style.opacity = Math.random() * 0.8 + 0.2;
      star.style.boxShadow = '0 0 10px white';
      starsContainer.appendChild(star);
    }

    const names = ['–¢–´', '–Ø'];
    names.forEach((name, idx) => {
      const label = document.createElement('div');
      label.textContent = name;
      label.style.position = 'absolute';
      label.style.color = 'rgba(255,255,255,0.85)';
      label.style.fontWeight = 'bold';
      label.style.left = idx === 0 ? '20%' : '80%';
      label.style.top = '40%';
      label.style.fontSize = '1.2em';
      starsContainer.appendChild(label);
    });

    const line = document.createElement('div');
    line.style.position = 'absolute';
    line.style.height = '2px';
    line.style.background = 'linear-gradient(90deg, transparent, #ff416c, transparent)';
    line.style.width = '60%';
    line.style.left = '20%';
    line.style.top = '42%';
    line.style.transform = 'rotate(2deg)';
    starsContainer.appendChild(line);
  </script>

  <script>
    document.body.className = 'dark';

    // –ü—Ä–æ–≥—Ä–µ—Å—Å –ª—é–±–≤–∏
    const firstDay = new Date('2025-07-13');
    const today = new Date();
    const totalDays = 10000;
    const daysTogether = Math.floor((today - firstDay) / (1000 * 60 * 60 * 24));
    const percent = Math.min(100, Math.round((daysTogether / totalDays) * 10000) / 100);

    document.getElementById('love-days').textContent = daysTogether;
    document.getElementById('love-percent').textContent = percent;
    setTimeout(() => {
      document.getElementById('love-progress').style.width = percent + '%';
    }, 500);

    // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ê –§–£–ù–ö–¶–ò–Ø –ú–£–ó–´–ö–ò
    function toggleMusic() {
      const audio = document.getElementById('love-music');
      const button = event.target;

      if (audio.paused) {
        const playPromise = audio.play();
        if (playPromise !== undefined) {
          playPromise
            .then(() => {
              button.textContent = '‚è∏Ô∏è –ü–∞—É–∑–∞';
            })
            .catch(error => {
              alert('üéß –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞.\n–û–±—ã—á–Ω–æ –∏–∫–æ–Ω–∫–∞ üîí –∏–ª–∏ üö´ —Ä—è–¥–æ–º —Å –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π ‚Äî –Ω–∞–∂–º–∏ –∏ —Ä–∞–∑—Ä–µ—à–∏ –∑–≤—É–∫.');
            });
        }
      } else {
        audio.pause();
        button.textContent = '‚ñ∂Ô∏è –í–∫–ª—é—á–∏—Ç—å –Ω–∞—à—É –ø–µ—Å–Ω—é';
      }
    }

    function showVideo() {
  const container = document.getElementById('video-player');
  if (container.innerHTML === '') {
    const video = document.createElement('video');
    video.controls = true;
    video.style.width = '100%';
    video.style.borderRadius = '12px';
    video.style.backgroundColor = '#000';
    
    const source = document.createElement('source');
    // üî¥ –í–°–¢–ê–í–¨ –°–Æ–î–ê –°–í–û–Æ –ü–†–Ø–ú–£–Æ –°–°–´–õ–ö–£ –ò–ó DROPBOX (—Å dl=1)
    source.src = "https://www.dropbox.com/scl/fi/fcso3ymzfwdr7w10ehmxe/IMG_2044.MP4?rlkey=1mm004yqvqu4ozcub34jps5wu&st=xv51e64v&dl=1";
    source.type = "video/mp4";
    
    video.appendChild(source);
    video.innerHTML += '–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ.';
    
    container.appendChild(video);
  }
  container.style.display = 'block';
  document.querySelector('#video-container button').style.display = 'none';
}

    function createConfetti() {
      const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff416c'];
      for (let i = 0; i < 200; i++) {
        const piece = document.createElement('div');
        piece.style.position = 'fixed';
        piece.style.width = Math.random() * 12 + 6 + 'px';
        piece.style.height = piece.style.width;
        piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        piece.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        piece.style.left = Math.random() * window.innerWidth + 'px';
        piece.style.top = '-20px';
        piece.style.zIndex = '9999';
        piece.style.opacity = '0.9';
        document.body.appendChild(piece);

        const anim = piece.animate([
          { top: '-20px', opacity: 1, transform: 'scale(1) rotate(0deg)' },
          { top: window.innerHeight + 'px', opacity: 0, transform: 'scale(0) rotate(720deg)' }
        ], {
          duration: 2500 + Math.random() * 3000,
          easing: 'cubic-bezier(0.1, 0.9, 0.2, 1)'
        });

        anim.onfinish = () => piece.remove();
      }
    }

    function saveMemory() {
      const text = document.getElementById('memory-input').value.trim();
      if (!text) return;
      const memories = JSON.parse(localStorage.getItem('loveMemories') || '[]');
      memories.push({ text, date: new Date().toLocaleDateString() });
      localStorage.setItem('loveMemories', JSON.stringify(memories));
      loadMemories();
      document.getElementById('memory-input').value = '';
    }

    function loadMemories() {
      const list = document.getElementById('memories-list');
      const memories = JSON.parse(localStorage.getItem('loveMemories') || '[]');
      list.innerHTML = memories.map(m => 
        `<div style="padding:8px 0; border-bottom:1px solid rgba(0,0,0,0.05);">${m.text} <small>‚Äî ${m.date}</small></div>`
      ).join('');
    }
    loadMemories();

    function exportToPDF() {
      alert('üí° –ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ Ctrl+P ‚Üí "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ PDF" ‚Äî —ç—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!');
    }

    if (window.DeviceMotionEvent) {
      window.addEventListener('devicemotion', (e) => {
        if (e.accelerationIncludingGravity) {
          const acc = e.accelerationIncludingGravity;
          if (Math.abs(acc.x) > 15 || Math.abs(acc.y) > 15) {
            createConfetti();
            setTimeout(() => {
              alert('–¢—ã –ø–æ—Ç—Ä—è—Å –Ω–µ —Ç–æ–ª—å–∫–æ –º–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω... –Ω–æ –∏ –º–æ—ë —Å–µ—Ä–¥—Ü–µ üíñ');
            }, 500);
          }
        }
      });
    }
  </script>
</body>
</html>